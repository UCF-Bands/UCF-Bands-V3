/*--------------------------------------------------------------
>>> TABLE OF CONTENTS:
----------------------------------------------------------------
# Imports
	# Blocks
	# Media
		# Captions
		# Galleries (Legacy)
# Post and page content
	# Alignments
	# Custom block colors
	# Custom font sizes
--------------------------------------------------------------*/

/* @todo move FSE stuff to FSE styles once we get postcss 8 in wp/scripts */

/*--------------------------------------------------------------
# Imports
--------------------------------------------------------------*/
@import "_colors.css";
@import "_gradients.css";
@import "_blocks.css";
@import "_media.css";

/*--------------------------------------------------------------
# Post and page content
--------------------------------------------------------------*/

/* Custom rule  for sticky posts:
.sticky {

}
*/

.entry-meta,
.entry-footer {
	font-family: var(--highlight-font-family);
	font-stretch: condensed;
	font-size: 80%;
}

.entry-meta {
	margin: 1em 0;
}

/* Hides the update date and time. */
.updated:not(.published) {
	display: none;
}

.post-thumbnail img {
	margin: 0 auto;
}

/* content wrapper */
.page-content,
.entry-content,
.entry-summary,
.fse-main-archive,
.fse-main-singular > .fse_event {
	display: grid;
	grid-template-columns: var(--content-grid-template-columns);
	column-gap: var(--content-grid-column-gap);
	row-gap: var(--content-spacing);
	margin-left: auto;
	margin-right: auto;
}

/* restrict to "default" width */
.page-content > *,
.entry-content > *,
.entry-summary > * {
	max-width: var(--content-width-default);
}

/* place grid items in main column */
.page-content > *,
.entry-content > *,
.entry-summary > *,
.fse-main-archive > *,
.fse-main-singular > .fse_event > * {
	grid-column: 2;
}

.page-header,
.entry-header,
.entry-footer,
.site-info,
.post-navigation,
.page-navigation,
.comments-area {
	margin: 1.5em auto;
	width: var(--content-width);
	max-width: var(--content-width-max);
}

/* give some spacing to first/last links (those will BGs will lose them) */
.entry-content > *:first-child {
	margin-top: calc(var(--content-spacing) * 2);
}

.entry-content > *:last-child {
	margin-bottom: calc(var(--content-spacing) * 2);
}

/* Align .more-link with the content. */
.entry-content > .more-link {
	display: block;
}

.page-links {
	clear: both;
	margin-bottom: 1.5em;
}

.entry-footer span {
	margin-right: 1em;
}

.entry-footer {
	clear: both;
	padding: 1.5em 1.5rem 3em;
	border-bottom: 1px solid #111;
}

@media (--content-query) {

	.entry-footer {
		padding-right: 0;
		padding-left: 0;
	}

}

/*--------------------------------------------------------------
## Alignments
--------------------------------------------------------------*/
.alignleft {
	justify-self: start; /* in case we're in a grid */
	float: left;
	margin-right: 1.5rem;
}

.alignright {
	justify-self: end; /* in case we're in a grid */
	float: right;
	margin-left: 1.5rem;
}

.aligncenter {
	display: block;
	margin-left: auto;
	margin-right: auto;
	clear: both;
}

/* allow full middle grid column */
.alignwide,
.alignfull {
	max-width: none;
}

/* span content grid columns */
.alignfull {
	grid-column: 1 / -1;
}

/* sidebar menu width */
@media (--wide-menu-query) {

	.alignfull {

		/* bring the whole full-width element back a "buffer" behind menu */
		margin-left: calc(var(--header-bg-offset) * -1);

		/* stretch out width to make up for the left offset */
		width: calc(100% + var(--header-bg-offset));
	}

	.alignfull.no-bg-offset {
		margin-left: 0;
		width: auto;
	}

	/* put certain "container" full width blocks back at the baseline */
	.alignfull.wp-block-group,
	.alignfull.wp-block-cover {
		padding-left: var(--header-bg-offset);
	}
}

.alignfull,
.wp-block-group.alignfull {
	margin-top: var(--extra-content-spacing);
	margin-bottom: var(--extra-content-spacing);
}

.alignwide,
.wp-block-group.alignwide {
	margin-top: var(--content-spacing);
	margin-bottom: var(--content-spacing);
}

/* don't allow extra margins to overlap */
.alignfull + .alignfull,
.alignwide + .alignwide {
	margin-top: 0;
}

/* remove top margin if first block and full width with background */
.alignfull.has-background-dim:first-child,
.alignfull.has-background:first-child {
	margin-top: 0;
}

/* remove bottom margin if last block and full width with background */
.alignfull.has-background-dim:last-child,
.alignfull.has-background:last-child {
	margin-bottom: 0;
}

/* remove space between fully-aligned blocks that have backgrounds */
.alignfull.has-background-dim + .alignfull.has-background-dim,
.alignfull.has-background-dim + .alignfull.has-background,
.alignfull.has-background + .alignfull.has-background,
.alignfull.has-background + .alignfull.has-background-dim {
	margin-top: calc((var(--extra-content-spacing) + var(--content-spacing)) * -1);
}

/* remove top/bottom margins from wide blocks in background-less group */
.wp-block-group:not(.has-background) .alignwide {
	margin-top: 0;
	margin-bottom: 0;
}

/* remove wide block top margin if first in "container" */
.wp-block-cover.alignfull .wp-block-cover__inner-container > .alignwide:first-child,
.wp-block-group.alignfull .wp-block-group__inner-container > .alignwide:first-child {
	margin-top: 0;
}

/* remove wide block bottom margin if last in "container" */
.wp-block-cover.alignfull .wp-block-cover__inner-container > .alignwide:last-child,
.wp-block-group.alignfull .wp-block-group__inner-container > .alignwide:last-child {
	margin-bottom: 0;
}

.has-text-align-center {
	margin-left: auto;
	margin-right: auto;
}

/*--------------------------------------------------------------
## Custom block font sizes.
--------------------------------------------------------------*/

.has-small-font-size {
	font-size: var(--font-size-small);
}

.has-regular-font-size {
	font-size: var(--font-size-regular);
}

.has-large-font-size {
	font-size: var(--font-size-large);
}

.has-larger-font-size {
	font-size: var(--font-size-larger);
}
